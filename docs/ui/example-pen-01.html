### Installation

<p>.</p>
<small>(TODO: install instructions - stand alone,cdn,npm)</small>
<p>.</p>

### Quick start

<p>.</p>
<small>(TODO: short introduction about MVC)</small>
<p>.</p>

#### Declaring a View template

Before applying a view template to a jUIce component, it is required to declare it by assigning
an unique identifier.
A view template can be either placed inline in the document or it can be
loaded from a separate HTML snippet file placed on a remote server.

##### Inline View template

Inline view template definition is achieved by adding a ```data-ui-view``` attribute
to the main container element of the view template.
The value of this field is meant to be an unique identifier.
If the same value is used for more than one element, the last declaration
will override any other previous one.

<pre><code class="language-html">
    <div data-ui-view="simple_view">
        This is an inline view template
    </div>
</code></pre>

##### Remote View template

A remote view template is placed in a separate HTML file:

<pre><code class="language-html">
    <!-- Content of "simple_view.html" file -->
    <div>
        This is a remote view template
    </div>
</code></pre>

#### Loading a component

To load a component, the ```data-ui-load``` attribute is used,
where its value is the name of the view template
that has to be applied to the component.

<small><strong>INPUT</strong></small>
<pre><code class="language-html">
    <!-- load 3 component instances using
         the "simple_view" template -->
    <div data-ui-load="simple_view"/>
    <div data-ui-load="simple_view"/>
    <div data-ui-load="simple_view"/>
</code></pre>

<small><strong>RESULT</strong></small>
<pre><code class="language-html">
    <div>
        This is a remote view template
    </div>
    <div>
        This is a remote view template
    </div>
    <div>
        This is a remote view template
    </div>
</code></pre>

<p></p>

<small><strong>NOTE:</strong></small>
jUIce will first look for an <em>inline</em> template matching the ```data-ui-view```
value. If none found it will try to load it from a <em>remote</em> resource by appending ```.html```
suffix to the template name.

In the following example:

<pre><code class="language-html">
    <div data-ui-load="ui/badges/cool_one"/>
    <!-- note that the .html extension must be omitted -->
    <div data-ui-load="http://remote.server/jcdn/ui/badges/cool_one"/>
</code></pre>

The template lookup order will be:

1. An inline view template with ```data-ui-view = ui/badges/cool_one``` or ```data-ui-view = http://remote.server/jcdn/ui/badges/cool_one```
(inline overriding of a remote template)
2. A remote template file located on the same server if
a relative path was given as the value of the ```data-ui-load``` attribute,
or any other remote server if an absolute url was given

the first found template resource will be applied to the component.

#### Adding a controller for the component logic

While in the previous steps we didn't need any javascript coding,
adding the controller for the component logic will indeed require
to code a javascript handler for it.
The handler can be specified either inline or into a sperate javascript
file that will be loaded automatically if no inline controller is defined.


<style>
    /*
     * Custom keyword styles
     */
    .token.keyword.keyword-data-ui-load, .token.keyword.keyword-load {
        color: #f92672;
    }
    .token.juice_obj {
        color: purple;
    }
    .token.juice_ctr {
        color: gray;
    }
</style>



<small>
    <strong>INLINE CONTROLLER (METHOD 1)</strong>
    The controller is specified in the ```data-ui-controller```
    attribute.
</small>
<pre><code class="language-html keyword-start line-numbers">
    <div data-ui-load="simple_view" data-ui-controller="exampleController"/>
    <script>
    var exampleController = juice.controller(function($$){
        $$.create = function() {
            $$.view.html('Helllo World!');
        }
    });
    </script>
</code></pre>


<small>
    <strong>INLINE CONTROLLER (METHOD 2)</strong>
    The controller is specified along with the options
    of the ```juice.load(view,options)``` method.
</small>
<pre><code class="language-html keyword-start line-numbers">
    <script>
    var componentContext = juice.load('simple_view', {
        controller: juice.controller(function($$){
            $$.create = function() {
                $$.view.html('Helllo World!');
            }
        }),
        ready: function (context) {
            console.log('component loading complete');
            console.log(context);
        }
    });
    componentContext.append(my_container);
    </script>
</code></pre>

#### j<strong>UI</strong><small>ce</small> API interface

The ```juice``` global object consists of a few public methods:

- ```juice.controller```
- ```juice.view```
- ```juice.load```
- ```juice.field```
- ```juice.include```

<pre><code class="language-js">
    juice.controller(<ctrl_handler_fn>)
</code></pre>

    ContextController ...


<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>

#### The ```juice.load(...)``` method


<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>


<pre><code class="language-html">
    <div data-ui-view="simple_view"
         class="material-icons mdl-badge mdl-badge--overlap"
         data-badge="3">account_box</div>
</code></pre>



<div data-ui-view="simple_view" data-ui-field="simple_view_test" class="material-icons mdl-badge mdl-badge--overlap" data-badge="3">account_box</div>

<div data-ui-field="simple_view_1" />
<script>juice.load('simple_view', {
    container: juice.field('simple_view_1'),
    controller: juice.controller(function ($$) {
        $$.create = function () {
            $$.view.find('div').on('click', function () {
                $(this).attr('data-badge', 10);
            });
        }
    })
})</script>

<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>

<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>


<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>

#### Component Life Cycle

#### Caching

<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>

<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>

<p></p>
<p>.</p>
<p>.</p>
<p>.</p>
<p></p>



#### Example 1 - Code Pen

<pre><code class="language-js">// load a component from CodePen
juice.load('https://codepen.io/genielabs/pen/RomJZy', {
    controller: juice.controller(function($$){
    },
    ready: function (context) {
        // component loaded and ready
        console.log(context);
    }
});
</code></pre>


<p data-height="430" data-theme-id="26976" data-slug-hash="RomJZy" data-default-tab="js,result" data-user="genielabs" data-embed-version="2" data-pen-title="jUIce test" class="codepen">See the Pen <a href="https://codepen.io/genielabs/pen/RomJZy/">jUIce test</a> by Gene (<a href="https://codepen.io/genielabs">@genielabs</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
