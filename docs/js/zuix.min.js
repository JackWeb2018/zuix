/*

 Copyright 2015-2017 G-Labs. All Rights Reserved.
         https://genielabs.github.io/zuix

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
'use strict';!function(u){if("object"==typeof exports)module.exports=u();else if("function"==typeof define&&define.amd)define(u);else{var k;"undefined"!=typeof window?k=window:"undefined"!=typeof global?k=global:"undefined"!=typeof self&&(k=self);k.zuix=u()}}(function(){return function k(n,p,f){function e(a,m){if(!p[a]){if(!n[a]){var l="function"==typeof require&&require;if(!m&&l)return l(a,!0);if(c)return c(a,!0);throw Error("Cannot find module '"+a+"'");}l=p[a]={exports:{}};n[a][0].call(l.exports,
function(c){var d=n[a][1][c];return e(d?d:c)},l,l.exports,k,n,p,f)}return p[a].exports}for(var c="function"==typeof require&&require,a=0;a<f.length;a++)e(f[a]);return e}({1:[function(k,n,p){function f(e){var c=this;c._worker=null;c._taskList=[];c._requests=[];null==e&&(e=function(){});c.taskQueue=function(a,b){c._taskList.push({tid:a,fn:b,status:0,end:function(){this.status=2}});c.check()};c.check=function(){null!=c._worker&&clearTimeout(c._worker);c._worker=setTimeout(function(){c.taskCheck()},10)};
c.taskCheck=function(){for(var a=-1,b=0;b<c._taskList.length;b++)if(-2!=a&&0==c._taskList[b].status)a=b;else{if(1==c._taskList[b].status){c.check();e(c,"load:step",{task:c._taskList[b].tid});return}if(2==c._taskList[b].status){e(this,"load:next",{task:c._taskList[b].tid});c._taskList.splice(b,1);c.check();return}}0<=a?(c._taskList[a].status=1,c._taskList[a].fn.call(c._taskList[a]),c.check(),e(c,"load:begin",{task:c._taskList[a].tid})):e(c,"load:end")}}f.prototype.queue=function(e,c){return this.taskQueue(e,
c)};f.prototype.requestLock=function(e){return null!=e._taskerLock?!1:e._taskerLock=!0};f.prototype.releaseLock=function(e){setTimeout(function(){delete e._taskerLock},100)};f.prototype.lockLater=function(e,c,a){var b=this;null==e._taskerLock?c():null==e._taskerTimeout&&(e._taskerTimeout=!0,e._taskerTimeout=setTimeout(function(){delete e._taskerTimeout;b.lockLater(e,c,a)},a));return!0};n.exports=f},{}],2:[function(k,n,p){n.exports={isNoU:function(f){return"undefined"===typeof f||null===f},isFunction:function(f){return"function"===
typeof f},objectEquals:function(f,e){if(null===f||void 0===f||null===e||void 0===e)return f===e;if(f.constructor!==e.constructor)return!1;if(f instanceof Function||f instanceof RegExp)return f===e;if(f===e||f.valueOf()===e.valueOf())return!0;if(Array.isArray(f)&&f.length!==e.length||f instanceof Date||!(f instanceof Object)||!(e instanceof Object))return!1;var c=Object.keys(f);return Object.keys(e).every(function(a){return-1!==c.indexOf(a)})&&c.every(function(a){return util.objectEquals(f[a],e[a])})},
propertyFromPath:function(f,e){if("string"===typeof e){e=e.replace(/\[(\w+)]/g,".$1");e=e.replace(/^\./,"");for(var c=e.split("."),a=f,b=0,m=c.length;b<m;++b){var l=c[b];if("undefined"!==typeof a[l])a=a[l];else return}return a}},cloneObject:function e(c){if(null===c||"object"!==typeof c)return c;var a=c.constructor(),b;for(b in c)a[b]=e(c[b]);return a},evalJs:eval}},{}],3:[function(k,n,p){function f(d){a(this,d.type,d)}function e(d,a,b){var c=!1;g.each(l,function(){if(this.element===d&&this.path===
a&&this.handler==b)return console.log("handler already registered",d,a,b),c=!0,!1});c||(l.push({element:d,path:a,handler:b}),d.addEventListener(a,f,!1))}function c(d,a,b){var c=1,e=-1;g.each(l,function(f){this.element===d&&this.path===a&&this.handler==b&&(c--,e=f)});-1!==e&&l.splice(e,1);0==c&&d.removeEventListener(a,f)}function a(d,a,b){var c=g(d);g.each(l,function(){this.element===d&&this.path===a&&this.handler.call(c,b)})}function b(d){this._selection=[];"undefined"===typeof d&&(d=document.documentElement);
if(d instanceof b)return d;if(d instanceof HTMLCollection||d instanceof NodeList||Array.isArray(d))this._selection=d;else if(d instanceof HTMLElement||d instanceof Node)this._selection=[d];else if("string"===typeof d)this._selection=document.documentElement.querySelectorAll(d);else if(null!==d)throw console.log("ZxQuery cannot wrap object of this type.",typeof d,d),d;return this}var m=k("./Util.js"),l=[];b.prototype.length=function(){return this._selection.length};b.prototype.parent=function(d){return m.isNoU(d)?
new b(this._selection[0].parentNode):new b(g.getClosest(this._selection[0],d))};b.prototype.children=function(d){return m.isNoU(d)?new b(this._selection[0].children):new b(this._selection[0].querySelectorAll(d))};b.prototype.reverse=function(){this._selection=Array.prototype.slice.call(this._selection,0).reverse();return this};b.prototype.get=function(d){m.isNoU(d)&&(d=0);return this._selection[d]};b.prototype.eq=function(d){return new b(this._selection[d])};b.prototype.find=function(d){return new b(this._selection[0].querySelectorAll(d))};
b.prototype.each=function(d){g.each(this._selection,d);return this};b.prototype.attr=function(d,a){if(m.isNoU(a))return this._selection[0].getAttribute(d);this.each(function(b,c){this.get().setAttribute(d,a)});return this};b.prototype.trigger=function(d,a){var b;window.CustomEvent?b=new CustomEvent(d,{detail:a}):(b=document.createEvent("CustomEvent"),b.initCustomEvent(d,!0,!0,a));this.each(function(d,a){a.dispatchEvent(b)});return this};b.prototype.one=function(d,a){var b=!1;this.on(d,function(c,
e){b||(b=!0,g(this).off(d,a),a.call(this,c,e))});return this};b.prototype.on=function(d,a){var b=d.match(/\S+/g)||[];this.each(function(d,c){g.each(b,function(d,b){e(c,b,a)})});return this};b.prototype.off=function(d,a){var b=d.match(/\S+/g)||[];this.each(function(d,e){g.each(b,function(d,b){c(e,b,a)})});return this};b.prototype.isEmpty=function(){return 0===this._selection[0].innerHTML.replace(/\s/g,"").length};b.prototype.css=function(d,a){if(m.isNoU(a))return this._selection[0].style[d];this.each(function(b,
c){c.style[d]=a});return this};b.prototype.addClass=function(d){var a=d.match(/\S+/g)||[];g.each(this._selection,function(b,c){c.classList?g.each(a,function(d,a){c.classList.add(a)}):c.className+=" "+d});return this};b.prototype.hasClass=function(d){return g.hasClass(this._selection[0],d)};b.prototype.removeClass=function(d){var a=d.match(/\S+/g)||[];g.each(this._selection,function(b,c){c.classList?g.each(a,function(d,a){c.classList.remove(a)}):c.className=c.className.replace(new RegExp("(^|\\b)"+
d.split(" ").join("|")+"(\\b|$)","gi")," ")});return this};b.prototype.prev=function(){return new b(this._selection[0].previousElementSibling)};b.prototype.next=function(){return new b(this._selection[0].nextElementSibling)};b.prototype.html=function(d){if(m.isNoU(d))return this._selection[0].innerHTML;this.each(function(a,b){b.innerHTML=d});return this};b.prototype.append=function(d){"string"===typeof d?this._selection[0].innerHTML+=d:this._selection[0].appendChild(d);return this};b.prototype.prepend=
function(d){"string"===typeof d?this._selection[0].innerHTML=d+this._selection[0].innerHTML:this._selection[0].insertBefore(d,this._selection[0].innerHTML.firstElementChild);return this};b.prototype.display=function(d){if(m.isNoU(d))return this._selection[0].style.display;g.each(this._selection,function(a,b){b.style.display=d});return this};b.prototype.visibility=function(d){if(m.isNoU(d))return this._selection[0].style.visibility;g.each(this._selection,function(a,b){b.style.visibility=d});return this};
b.prototype.show=function(){return this.display("")};b.prototype.hide=function(){return this.display("none")};var g=function(d){return new b(d)};g.find=function(d){return g().find(d)};g.each=function(d,a){if(null!=d)for(var b=0,c=d.length;b<c;b++){var e=d[b];e instanceof Element&&(e=g(e));if(!1===a.call(e,b,d[b]))break}return this};g.hasClass=function(d,a){var b=a.match(/\S+/g)||[],c=!1;g.each(b,function(a,b){if(c=d.classList?d.classList.contains(b):(new RegExp("(^| )"+b+"( |$)","gi")).test(d.className))return!1});
return c};g.ajax=function(d){var a;a=m.isNoU(d)||m.isNoU(d.url)?d:d.url;var b=new XMLHttpRequest;b.open("GET",a);b.onload=function(){200===b.status?m.isFunction(d.success)&&d.success(b.responseText):m.isFunction(d.error)&&d.error(b);m.isFunction(d.then)&&d.then(b)};b.send();return this};g.wrapElement=function(d,a){var b=document.createElement(d);"string"===typeof a?b.innerHTML=a:b.appendChild(a);return b};g.wrapCss=function(d,a){for(var b=/([.,\w])([^/{};]+)({)/g,c,e=null,f="";c=b.exec(a);)null!=
e&&(f+=d+" "+a.substring(e.index,c.index)),e=c;null!=e&&(f+=d+" "+a.substring(e.index));""!=f&&(a=f);return a};g.appendCss=function(a,b){var c=null,e;"string"===typeof a?(e=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style"),c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))):a instanceof Element&&(c=a);m.isNoU(b)||e.removeChild(b);m.isNoU(c)||e.appendChild(c);return c};g.getClosest=function(a,b){for(;a&&a!==document;a=
a.parentNode)if(a.matches(b))return a;return null};g.getPosition=function(a){for(var b=g.isInView(a),c=0,e=0;a;){if("BODY"==a.tagName)var f=a.scrollTop||document.documentElement.scrollTop,c=c+(a.offsetLeft-(a.scrollLeft||document.documentElement.scrollLeft)+a.clientLeft),e=e+(a.offsetTop-f+a.clientTop);else c+=a.offsetLeft-a.scrollLeft+a.clientLeft,e+=a.offsetTop-a.scrollTop+a.clientTop;a=a.offsetParent}return{x:c,y:e,visible:b}};g.isInView=function(a){if(null===a.offsetParent)return!1;a=a.getBoundingClientRect();
return 0<a.bottom&&0<a.right&&a.left<(window.innerWidth||document.documentElement.clientWidth)&&a.top<(window.innerHeight||document.documentElement.clientHeight)};g.ZxQuery=b;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=a.length;0<=
--b&&a.item(b)!==this;);return-1<b});(function(){function a(b,d){d=d||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(b,d.bubbles,d.cancelable,d.detail);return c}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();n.exports=g},{"./Util.js":2}],4:[function(k,n,p){k=k("./zuix/Zuix.js");"object"===typeof n&&n.exports?n.exports=k.call(this):this.zuix=k.call(this)},{"./zuix/Zuix.js":7}],5:[function(k,
n,p){function f(a,b){this._options=null;this.contextId=null==a||null==a.contextId?null:a.contextId;this.componentId=null;this.trigger=function(a,c,e){"function"===typeof b&&b(a,c,e)};this.behavior=this._controller=this._style=this._css=this._view=this._model=this._container=null;this._eventMap=[];this._behaviorMap=[];this._c=null;this.options(a);return this}var e=k("../helpers/ZxQuery"),c=k("../helpers/Util");f.prototype.options=function(a){if(null==a)return this._options;this._options=a;null!=a.componentId&&
(this.componentId=a.componentId);this.container(a.container);this.view(a.view);"undefined"!==typeof a.css&&this.style(a.css);this.controller(a.controller);this.model(a.model);return this};f.prototype.ready=function(a){};f.prototype.error=function(a,b){};f.prototype.on=function(a,b){return this._c.on(a,b)};f.prototype.model=function(a){if("undefined"===typeof a)return this._model;this._model=a;this.modelToView();return this};f.prototype.viewToModel=function(){var a=this;this._model={};e(this._view).find("[data-ui-field]").each(function(b,
c){if(0<this.parent("pre,code").length())return!0;var e=this.attr("data-ui-field"),f="";switch(c.tagName.toLowerCase()){case "img":f=c.src;break;case "input":f=c.value;break;default:f=c.innerHTML}if(0<e.indexOf(".")){for(var e=e.split("."),d=a._model,k=0;k<e.length-1;k++)"undefined"===typeof d[e[k]]&&(d[e[k]]={}),d=d[e[k]];d[e[e.length-1]]=f}else a._model[e]=f});return this};f.prototype.modelToView=function(){if(null!=this._view&&null!=this._model){var a=this;e(this._view).find("[data-ui-field]").each(function(b,
f){if(0<this.parent("pre,code").length())return!0;var l=this.attr("data-bind-to");null==l&&(l=this.attr("data-ui-field"));if("function"===typeof a._model)a._model.call(e(a._view),this,l);else{var g=c.propertyFromPath(a._model,l);if("function"===typeof g)g.call(e(a._view),this,l);else if(null!=g)switch(f.tagName.toLowerCase()){case "img":f.src=g;break;case "input":f.value=g;break;default:f.innerHTML=g}}})}return this};f.prototype.style=function(a){if("undefined"===typeof a)return this._style;null==
a||a instanceof Element?(this._css=a instanceof Element?a.innerText:a,this._style=e.appendCss(a,this._style)):"string"===typeof a&&(this._css=a,a=e.wrapCss('[data-ui-component="'+this.componentId+'"]:not(.zuix-css-ignore)',a),a={content:a},this.trigger(this,"css:parse",a),a=a.content,this._style=e.appendCss(a,this._style));return this};f.prototype.loadCss=function(a){var b=this,f=b.componentId+".css?"+(new Date).getTime();c.isNoU(a)&&(a={});c.isNoU(a.path)||(f=a.path);e.ajax({url:f,success:function(e){b.style(e);
c.isFunction(a.success)&&a.success.call(b)},error:function(e){console.log(e,b);c.isFunction(a.error)&&a.error.call(b,e)},then:function(){c.isFunction(a.then)&&a.then.call(b)}});return this};f.prototype.view=function(a){if("undefined"===typeof a)return this._view;"string"===typeof a?(a={content:a},this.trigger(this,"html:parse",a),a=a.content,null!=this._container?(this._view=this._container,this._view.innerHTML+=a):(a=e.wrapElement("div",a),null!=this._view?this._view.innerHTML=a.innerHTML:this._view=
a),e(this._view).find("script").each(function(a,c){"true"!==this.attr("zuix-loaded")&&(this.attr("zuix-loaded","true"),eval.call(window,c.innerHTML))}),this.trigger(this,"view:process",e(this._view))):null!=this._container?(this._view=e.wrapElement("div",a.outerHTML).firstElementChild,this._view.removeAttribute("data-ui-view"),this._container.appendChild(this._view),this._view=this._container):this._view=a;a=e(this._view);!1===this._options.css?a.addClass("zuix-css-ignore"):a.removeClass("zuix-css-ignore");
this.modelToView();return this};f.prototype.loadHtml=function(a){var b=this,f=b.componentId;c.isNoU(a)&&(a={});c.isNoU(a.path)||(f=a.path);var l=e().find('[data-ui-view="'+f+'"]:not([data-ui-component*=""])');0<l.length()?(f=l.get(0),b.view()===f||null!=b.container()&&b.container().contains(f)?b.view(f):b.view(f.outerHTML),c.isFunction(a.success)&&a.success.call(b),c.isFunction(a.then)&&a.then.call(b)):(f==b.componentId&&(f+=".html?"+(new Date).getTime()),e.ajax({url:f,success:function(e){b.view(e);
c.isFunction(a.success)&&a.success.call(b)},error:function(e){console.log(e,b);c.isFunction(a.error)&&a.error.call(b,e)},then:function(){c.isFunction(a.then)&&a.then.call(b)}}));return this};f.prototype.controller=function(a){if("undefined"===typeof a)return this._controller;this._controller=a;return this};f.prototype.container=function(a){if(null==a)return this._container;this._container=a;return this};n.exports=f},{"../helpers/Util":2,"../helpers/ZxQuery":3}],6:[function(k,n,p){function f(c){var a=
this;this.context=c;this.componentId=c.componentId;this._view=null;this.view=function(a){if(null!=c.view()||this._view!==c.view())return this._view=null==a?e(c.view()):"string"===typeof a?e(c.view()).find(a):e(a);if(null!==this._view)return this._view;throw{message:"Not attacched to a view yet.",source:this};};this.model=function(a){return c.model(a)};this.expose=function(a,b){c[a]=b};this.behavior=function(){return c.behavior};this._childNodes=[];this.saveView=function(){this.restoreView();this.view().children().each(function(b,
c){a._childNodes.push(c)})};this.restoreView=function(){0<this._childNodes.length&&(a.view().html(""),e.each(a._childNodes,function(b,c){a.view().append(c)}),this._childNodes.length=0)};this.loadHtml=function(a){this.saveView();return c.loadHtml(a)};this.loadCss=function(a){return c.loadCss(a)};this._fieldCache=[];this.destroy=this.create=null;this.trigger=function(b,e){null==c._eventMap[b]&&this.addEvent(this.view(),b,null);a.view().trigger(b,e)};this.on=function(a,b){this.addEvent(this.view(),a,
b)};this.mapEvent=function(a,b,c,e){null!=b&&(b.off(c,this.eventRouter),a[c]=e,b.on(c,this.eventRouter))};this.eventRouter=function(b){"function"===typeof c._behaviorMap[b.type]&&c._behaviorMap[b.type].call(a.view(),b,b.detail);"function"===typeof c._eventMap[b.type]&&c._eventMap[b.type].call(a.view(),b,b.detail)};var b=c.options(),f=null;if(null!=b.on)for(var l in b.on)f=b.on[l],a.addEvent(a.view(),l,f);if(null!=b.behavior)for(var g in b.behavior)f=b.behavior[g],a.addBehavior(a.view(),g,f);c.controller().call(this,
this);return this}var e=k("../helpers/ZxQuery");f.prototype.addEvent=function(c,a,b){this.mapEvent(this.context._eventMap,c,a,b);return this};f.prototype.addBehavior=function(c,a,b){this.mapEvent(this.context._behaviorMap,c,a,b);return this};f.prototype.field=function(c){var a=this,b=null;"undefined"===typeof this._fieldCache[c]?(b=this.view().find("[data-ui-field="+c+"]"),null!=b&&(b.on=function(c,f){if("string"===typeof f){var g=f;f=function(){a.trigger(g)}}e.ZxQuery.prototype.on.call(b,c,f)},this._fieldCache[c]=
b)):b=this._fieldCache[c];return b};f.prototype.clearCache=function(){this._fieldCache.length=0};n.exports=f},{"../helpers/ZxQuery":3}],7:[function(k,n,p){function f(){return this}function e(a){r.requestLock(e)?(q(a).find("[data-ui-load]:not([data-ui-loaded=true]),[data-ui-include]:not([data-ui-loaded=true])").each(function(a,b){this.visibility("hidden");if(!g()||"false"==this.attr("data-ui-lazyload"))return c(b),!0;var d=q.getClosest(b,"[data-ui-lazyload=true]");if(null!==d&&(-1==D.indexOf(d)&&(D.push(d),
q(d).on("scroll",function(){e(d)})),!q.getPosition(b).visible))return-1==t.indexOf(b)&&t.push(b),!0;var f=t.indexOf(b);-1<f&&t.splice(f,1);c(b)}),r.releaseLock(e)):r.lockLater(e,function(){e(a)},200)}function c(b){var c=q(b);if("true"===c.attr("data-ui-loaded")||0<c.parent("pre,code").length())console.log("ZUIX","WARN","Skipped",b);else{c.attr("data-ui-loaded","true");var d=c.attr("data-ui-options");h.isNoU(d)?d={}:(d=h.propertyFromPath(window,d),d=h.cloneObject(d)||{});h.isNoU(d.view)&&!c.isEmpty()?
(d.view=b,d.viewDeferred=!0):h.isNoU(d.view)&&h.isNoU(d.container)&&c.isEmpty()&&(d.container=b);b=c.attr("data-ui-load");h.isNoU(b)&&(b=c.attr("data-ui-include"),c.attr("data-ui-component",b),h.isNoU(d.controller)&&(d.controller=function(){}));c=c.attr("data-bind-model");!h.isNoU(c)&&0<c.length&&(d.model=h.propertyFromPath(window,c));a(b,d)}}function a(a,c){var e=null;h.isNoU(c)?(c={},e=new C(c,l)):h.isNoU(c.contextId)?(!1===c&&(c={}),c.contextId="zuix-ctx-"+ ++G,e=b(c)):(e=m(c.contextId),null!==
e?e.options(c):e=b(c));e.componentId!=a&&(e.componentId=a);h.isFunction(c.ready)&&(e.ready=c.ready);h.isFunction(c.error)&&(e.error=c.error);if(h.isNoU(c.view)){var f=d(e.componentId);null!==f&&h.isNoU(e.controller())&&e.controller(f.controller);if(null!==f&&null!=f.view)e.view(f.view);else if(h.isNoU(e.view()))return r.queue("html:"+e.componentId,function(){var a=this;e.loadHtml({success:function(){!1!==c.css?e.loadCss({error:function(a){console.log(a,e)},then:function(){v(e)}}):v(e)},error:function(a){console.log(a,
e);h.isFunction(c.error)&&e.error.call(e,a)},then:function(){a.end()}})}),e}else e.view(c.view);v(e);return e}function b(a){a=new C(a,l);x.push(a);return a}function m(a){var b=null;q.each(x,function(c,d){if(a instanceof Element&&d.view()===a||h.objectEquals(d.contextId,a))return b=d,!1});return b}function l(a,b,c){h.isFunction(y[b])&&y[b].call(a,b,c);"view:process"==b&&e(c)}function g(a){null!=a&&(E=!a);return!z&&!E}function d(a){var b=null;q.each(A,function(c,d){if(h.objectEquals(d.componentId,a))return b=
d,!1});return b}function v(a){"undefined"===typeof a.options().controller&&null===a.controller()?h.isFunction(B[a.componentId])?(a.controller(B[a.componentId]),w(a)):r.queue("js:"+a.componentId,function(){var b=this;q.ajax({url:a.componentId+".js?"+(new Date).getTime(),success:function(b){try{var c=b.indexOf("function"),d=b.indexOf(".load");1<d&&d<c&&(b=b.substring(0,d-4));var e=b.indexOf(".controller");1<e&&e<c&&(b=b.substring(e+11));var f=b.indexOf("//<--controller");0<f&&(b=b.substring(0,f));a.controller(F(b))}catch(g){console.log(g,
b,a),h.isFunction(a.error)&&a.error.call(a,g)}},error:function(b){console.log(b,a);h.isFunction(a.error)&&a.error.call(a,b)},then:function(){b.end();w(a)}})}):w(a)}function w(a){if(!h.isNoU(a.view())){if(!a.options().viewDeferred&&null===d(a.componentId)){var b=a.view()===a.container()?a.view().innerHTML:a.view().outerHTML,b=q.wrapElement("div",b);A.push({componentId:a.componentId,view:b.innerHTML,controller:a.controller()})}h.isFunction(a.controller())&&(b=a._c=new H(a),h.isNoU(b.view())||(b.view().attr("data-ui-component",
b.componentId),h.isNoU(a.model())&&!h.isNoU(a.view())&&a.viewToModel(),b.trigger("view:apply"),a.options().viewDeferred&&(a.options().viewDeferred=!1,b.saveView(),!1!==a.options().css&&a.loadCss(),!1!==a.options().html&&a.loadHtml()),b.view().css("visibility","")),h.isFunction(b.create)&&b.create(),b.trigger("view:create"));h.isFunction(a.ready)&&a.ready.call(a)}}function F(a){var b=function(a){};if("string"===typeof a)try{b=eval.call(this,a)}catch(c){console.log(this,c,a)}return b}var h=k("../helpers/Util"),
q=k("../helpers/ZxQuery");p=k("../helpers/TaskQueue");var C=k("./ComponentContext"),H=k("./ContextController"),A=[],G=0,x=[],y=[],B={},t=[],D=[],r=new p(function(a,b,c){l(a,b,c)}),z=!1,E=!1;navigator&&navigator.userAgent&&(z=(new RegExp(/bot|googlebot|crawler|spider|robot|crawling/i)).test(navigator.userAgent));z&&console.log(navigator.userAgent,"is a bot, ignoring 'data-ui-lazyload' option.");f.prototype.controller=function(a){"function"!==typeof a["for"]&&(a["for"]=function(b){return B[b]=a});return a};
f.prototype.field=function(a,b){return q(b).find('[data-ui-field="'+a+'"]')};f.prototype.componentize=function(a){e(a);return this};f.prototype.load=a;f.prototype.unload=function(a){h.isNoU(a)||h.isNoU(a._c)||(h.isNoU(a._c.view())||a._c.view().attr("data-ui-component",null),h.isFunction(a._c.destroy)&&a._c.destroy());return this};f.prototype.context=m;f.prototype.hook=function(a,b){h.isNoU(b)||(y[a]=b);return this};f.prototype.trigger=function(a,b,c){l(a,b,c);return this};f.prototype.lazyLoad=g;f.prototype.$=
q;f.prototype.TaskQueue=p;f.prototype.ZxQuery=q.ZxQuery;f.prototype.dumpCache=function(){console.log("ZUIX","Component Cache",A)};f.prototype.dumpContexts=function(){console.log("ZUIX","Loaded Component Instances",x)};n.exports=function(a){var b=new f;document.addEventListener("DOMContentLoaded",function(a){b.componentize()});return b}},{"../helpers/TaskQueue":1,"../helpers/Util":2,"../helpers/ZxQuery":3,"./ComponentContext":5,"./ContextController":6}]},{},[4])(4)});
//# sourceMappingURL=zuix.min.js.map
