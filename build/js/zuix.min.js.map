{"version":3,"file":"zuix.min.js","lineCount":45,"mappings":"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","sources":[" [synthetic:base] "," [synthetic:util/findinternal] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:util/polyfill] "," [synthetic:es6/array/find] "," [synthetic:es6/symbol] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:es6/array/keys] ","src/js/zuix.js"],"names":["Zuix","ComponentContext","options","_options","contextId","util","isNoU","behavior","_controller","_view","_model","_container","componentId","_eventMap","_behaviorMap","_c","ContextController","context","self","view","this.view","model","this.model","expose","this.expose","methodName","handler","this.behavior","_fieldCache","api","event","refresh","destroy","pause","resume","create","trigger","this.trigger","eventPath","eventData","addEvent","z$","on","this.on","handler_fn","invoke","this.invoke","command","isFunction","eventRouter","this.eventRouter","e","type","call","detail","addBehavior","controller","callback","field","fieldName","container","find","get","componentize","element","each","attr","parent","length","console","log","propertyFromPath","window","cloneObject","isEmpty","options.controller","load","_contextSeqNum","_contextRoot","push","getContext","cachedComponent","getCachedComponent","ready","error","inlineView","taskQueue","promise","ajax","url","getTime","Date","success","viewHtml","loadController","status","err","unload","removeAttr","k","v","objectEquals","cached","_componentCache","ctrlJs","il","indexOf","substring","ih","getController","createComponent","innerHTML","parentNode","removeChild","appendChild","one","c","javascriptCode","instance","ctx","_eval","triggerHook","path","data","_hooksCallbacks","hooks","tid","fn","_taskList","setTimeout","taskCheck","next","i","task","splice","ZuixQl","document","documentElement","_selection","HTMLCollection","NodeList","Array","isArray","HTMLElement","Node","querySelectorAll","prototype","ComponentContext.prototype.options","ComponentContext.prototype.ready","ComponentContext.prototype.error","ComponentContext.prototype.on","a","b","ComponentContext.prototype.invoke","apiMethodName","ComponentContext.prototype.model","ComponentContext.prototype.view","hookData","content","wrapElement","ComponentContext.prototype.controller","ComponentContext.prototype.container","ContextController.prototype.addEvent","target","off","ContextController.prototype.addBehavior","ContextController.prototype.field","globalSearch","f","el","clearCache","ContextController.prototype.clearCache","eval","obj","x","y","undefined","constructor","Function","RegExp","valueOf","Object","p","keys","every","o","s","replace","split","n","ref","temp","key","ZuixQl.prototype.parent","children","ZuixQl.prototype.children","filter","ZuixQl.prototype.get","eq","ZuixQl.prototype.eq","ZuixQl.prototype.find","selector","ZuixQl.prototype.each","iterationCallback","ZuixQl.prototype.attr","val","getAttribute","setAttribute","ZuixQl.prototype.trigger","CustomEvent","createEvent","initCustomEvent","dispatchEvent","ZuixQl.prototype.one","eventHandler","fired","ZuixQl.prototype.on","events","match","_t","addEventListener","ZuixQl.prototype.off","removeEventListener","ZuixQl.prototype.isEmpty","css","ZuixQl.prototype.css","style","addClass","ZuixQl.prototype.addClass","className","classes","classList","add","hasClass","ZuixQl.prototype.hasClass","cls","contains","test","removeClass","ZuixQl.prototype.removeClass","remove","join","prev","ZuixQl.prototype.prev","previousElementSibling","ZuixQl.prototype.next","nextElementSibling","html","ZuixQl.prototype.html","htmlText","show","ZuixQl.prototype.show","display","hide","ZuixQl.prototype.hide","what","z$.find","z$.each","items","len","z$.ajax","opt","xhr","XMLHttpRequest","open","onload","xhr.onload","responseText","send","z$.wrapElement","containerTag","createElement","append","zuix","hook","$","dumpCache","dumpContexts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,"/**\n * @license\n * Copyright 2015-2017 G-Labs. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Javascript UI components enhancer. A lite MVC library.\n * Find more details about zuix here:\n *   https://github.com/genielabs/zuix-mvc-js\n *\n * @author Generoso Martello <generoso@martello.com>\n */\n\n/**\n * @class Zuix\n * @constructor\n */\n(function Zuix() {\n    \"use strict\";\n\n    /**\n     * Component Cache object.\n     * @typedef {{\n     *      componentId: string The id of the cached component,\n     *      view: ContextView The view,\n     *      controller: ContextControllerCallback The function of the controller controller.\n     * }} ComponentCache\n     */\n\n    /**\n     * @protected\n     * @type {!Array<ComponentCache>}\n     */\n    var _componentCache = [];\n\n    /**\n     * Describes the types of objects used in a ComponentContext.\n     *\n     * @callback ContextReadyCallback\n     * @param {ComponentContext} context\n     *\n     * @callback ContextErrorCallback\n     * @param {ComponentContext} context\n     * @param {Object} error\n     *\n     * @callback EventCallback\n     * @param {jQuery.Event} event\n     * @param {Object} data\n     *\n     * @typedef {!{string, function}} EventMapping\n     *\n     * @typedef {{\n     *    data: Object|undefined,\n     *    locales: Object|undefined\n     * }} ContextModel\n     *\n     * @typedef {jQuery|HTMLElement|string} ContextView\n     *\n     * @typedef {jQuery|HTMLElement|string} ViewContainer\n     *\n     * @typedef {{\n     *    contextId: Object|undefined,\n     *    container: jQuery|undefined,\n     *    componentId: string|undefined,\n     *    model: ContextModel|undefined,\n     *    view: ContextView|undefined,\n     *    controller: ContextControllerCallback|undefined,\n     *    on: Array.<EventMapping>|EventCallback|undefined,\n     *    behavior: Array.<EventMapping>|EventCallback|undefined,\n     *    ready: ContextReadyCallback|undefined,\n     *    error: ContextErrorCallback|undefined\n     * }} ContextOptions\n     *\n     */\n\n    /**\n     * @protected\n     * @type {!Array<ComponentContext>}\n     */\n    var _contextRoot = [];\n\n    /***\n     * TODO: describe this class...\n     *\n     * @param {ContextOptions} options The context options.\n     * @returns {ComponentContext} The component context instance.\n     * @constructor\n     */\n    function ComponentContext(options) {\n\n        this._options = null;\n        this.contextId = util.isNoU(options) || util.isNoU(options.contextId) ? null : options.contextId;\n        this.componentId = null;\n\n        /** @protected */\n        this._container = null;\n\n        /** @protected */\n        this._model = null;\n        /** @protected */\n        this._view = null;\n        /**\n         * @protected\n         * @type {ContextControllerCallback}\n         */\n        this._controller = null;\n\n        /**\n         * Define the local behavior handler for this context instance only.\n         * Any global behavior matching the same `componentId` will be overridden.\n         *\n         * @function behavior\n         * @param handler_fn {function}\n         */\n        this.behavior = null;\n\n        /** @protected */\n        this._eventMap = [];\n        /** @protected */\n        this._behaviorMap = [];\n\n        /**\n         * @protected\n         * @type {ContextController}\n         */\n        this._c = null;\n\n        this.options(options);\n\n        return this;\n    }\n\n    ComponentContext.prototype.options = function (options) {\n        if (util.isNoU(options))\n            return this._options;\n        this._options = options;\n        if (!util.isNoU(options)) {\n            if (!util.isNoU(options.componentId))\n              this.componentId = options.componentId;\n            this.container(options.container);\n            this.model(options.model);\n            this.view(options.view);\n            this.controller(options.controller);\n        }\n        return this;\n    };\n\n    /**\n     * TODO: describe\n     * @event ComponentContext#ready\n     * @param {ComponentContext} context The component context instance.\n     */\n    ComponentContext.prototype.ready = function (context) {\n    };\n\n    /**\n     * TODO: describe\n     * @event ComponentContext#error\n     * @param {ComponentContext} context The component context instance.\n     * @param {Object} error The error object\n     */\n    ComponentContext.prototype.error = function (context, error) {\n    };\n\n\n    /**\n     * TODO: describe\n     * @param a\n     * @param b\n     */\n    ComponentContext.prototype.on = function (a, b) {\n        // TODO: throw error if _c (controller instance) is not yet ready\n        return this._c.on(a, b);\n    };\n\n    /**\n     * TODO: describe\n     * @param apiMethodName {string}\n     * @param options {Object}\n     */\n    ComponentContext.prototype.invoke = function (apiMethodName, options) {\n        // TODO: throw error if _c (controller instance) is not yet ready\n        return this._c.invoke(apiMethodName, options)\n    };\n\n    /***\n     *\n     * @param {ContextModel} [model]\n     * @returns {ComponentContext|Object}\n     */\n    ComponentContext.prototype.model = function (model) {\n        if (util.isNoU(model)) return this._model;\n        else this._model = model;\n        return this;\n    };\n    /***\n     *\n     * @param {ContextView} [view]\n     * @returns {ComponentContext|ContextView}\n     */\n    ComponentContext.prototype.view = function (view) {\n        if (typeof view === 'undefined') return this._view;\n        if (typeof view === 'string') {\n\n            // trigger `html:parse` hook before assigning content to the view\n            var hookData = { content: view };\n            // TODO: fire zuix.hook -> view:attach\n            triggerHook(this, 'html:parse', hookData);\n            view = hookData.content;\n\n\n            // add context to the view\n            this._view = z$.wrapElement('div', view);\n\n\n            // trigger `view:process` hook when the view is ready to be processed\n            triggerHook(this, 'view:process', this._view);\n\n\n            // Zuix Componentizer is the last executed hook (built-in)\n            componentize(this._view);\n\n        } else this._view = view;\n        return this;\n    };\n    /***\n     *\n     * @param {ContextControllerCallback} [controller]\n     * @returns {ComponentContext|ContextControllerCallback}\n     */\n    ComponentContext.prototype.controller = function (controller) {\n        if (util.isNoU(controller)) return this._controller;\n        else this._controller = controller;\n        return this;\n    };\n    /***\n     *\n     * @param {ViewContainer} [container]\n     * @returns {ComponentContext|jQuery}\n     */\n    ComponentContext.prototype.container = function (container) {\n        if (util.isNoU(container)) return this._container;\n        else this._container = container;\n        return this;\n    };\n\n    /**\n     * TODO: complete JSDoc\n     *\n     * @returns {ContextController}\n     * @constructor\n     */\n    function ContextController(context) {\n        var self = this;\n\n        this.context = context;\n\n        // TODO: should improve/deprecate this.componentId?\n        this.componentId = context.componentId;\n        /** @type {ContextView} */\n        this.view = function () {\n            return context.view()\n        };\n        /** @type {ContextModel} */\n        this.model = function () {\n            return context.model()\n        };\n        /** @type {function} */\n        this.expose = function (methodName, handler) {\n            context[methodName] = handler;\n        };\n        /** @type {function} */\n        this.behavior = function () {\n            return context.behavior;\n        };\n\n        /** @protected */\n        this._fieldCache = [];\n\n        /** @type {function} */\n        this.create = null;\n        /** @type {function} */\n        this.resume = null;\n        /** @type {function} */\n        this.pause = null;\n        /** @type {function} */\n        this.destroy = null;\n        /** @type {function} */\n        this.refresh = null;\n        /** @type {function} */\n        this.event = null; // UI event stream handler (eventPath,eventValue)\n        /** @type {function} */\n        this.api = null; // handler for component API (command,options)\n\n        /** @type {function} */\n        this.trigger = function (eventPath, eventData) {\n            if (util.isNoU(context._eventMap[eventPath]))\n                this.addEvent(self.view(), eventPath, null);\n            // TODO: ...\n            z$(self.view()).trigger(eventPath, eventData);\n        };\n        /** @type {function} */\n        this.on = function (eventPath, handler_fn) {\n            this.addEvent(self.view(), eventPath, handler_fn);\n            // TODO: implement automatic event unbinding (off) in super().destroy()\n        };\n        /** @type {function} */\n        this.invoke = function (command, options) {\n            // used by consumers to invoke a component API command\n            if (util.isFunction(self.api))\n                self.api(command, options);\n        };\n        /** @type {function} */\n        this.eventRouter = function (e) {\n            //if (util.isFunction(self.behavior()))\n            //    self.behavior().call(self.view(), a, b);\n            if (util.isFunction(context._behaviorMap[e.type]))\n                context._behaviorMap[e.type].call(self.view(), e, e.detail);\n            if (util.isFunction(context._eventMap[e.type]))\n                context._eventMap[e.type].call(self.view(), e, e.detail);\n            // TODO: else-> should report anomaly\n        };\n        // create event map from context options\n        var options = context.options();\n        if (!util.isNoU(options.on))\n        {\n            for(var eventPath in options.on) {\n                var handler = options.on[eventPath];\n                // TODO: should log.warn if k already exists\n                self.addEvent(self.view(), eventPath, handler);\n            }\n        }\n        // create behavior map from context options\n        if (!util.isNoU(options.behavior))\n        {\n            for(var eventPath in options.behavior) {\n                var handler = options.behavior[eventPath];\n                // TODO: should log.warn if k already exists\n                self.addBehavior(self.view(), eventPath, handler);\n            }\n        }\n\n        context.controller().call(this, this);\n\n        return this;\n    }\n\n    ContextController.prototype.addEvent = function (target, eventPath, handler_fn) {\n        if (!util.isNoU(target)) {\n            z$(target).off(eventPath, this.eventRouter);\n            this.context._eventMap[eventPath] = handler_fn;\n            z$(target).on(eventPath, this.eventRouter);\n        } else {\n            // TODO: should report missing view\n        }\n    };\n    ContextController.prototype.addBehavior = function (target, eventPath, handler_fn) {\n        if (!util.isNoU(target)) {\n            z$(target).off(eventPath, this.eventRouter);\n            this.context._behaviorMap[eventPath] = handler_fn;\n            z$(target).on(eventPath, this.eventRouter);\n        } else {\n            // TODO: should report missing view\n        }\n    };\n\n    /***\n     * Search and cache this view elements.\n     *\n     * @param {!string} field Name of the `data-ui-field` to search\n     * @param {boolean} [globalSearch] Search a generic field attribute\n     * @returns {Element|jQuery}\n     */\n    ContextController.prototype.field = function (field, globalSearch) {\n        var f = globalSearch ? '@' + field : field;\n        var el = null;\n        if (typeof this._fieldCache[f] === 'undefined') {\n            el = globalSearch ? z$(field).get(0) : z$(this.view()).find('[data-ui-field=' + field + ']').get(0);\n            if (el.length)\n                this._fieldCache[f] = el;\n        } else {\n            el = this._fieldCache[f];\n        }\n        return el;\n    };\n    ContextController.prototype.clearCache = function () {\n        this._fieldCache.length = 0;\n    };\n\n\n    // TODO: implement Config object for zuix\n    /** @protected\n     * @const\n     */\n    var _zuixFieldAttribute = 'data-ui-field';\n    // work-around for lint eval error\n    /** @protected\n     * @const\n     */\n    var _eval = eval;\n    //\n    /** @protected */\n    var _contextSeqNum = 0;\n\n\n    /**\n     * TODO: describe\n     *\n     * @callback ContextControllerCallback\n     * @param {ContextController} ctx\n     */\n    /**\n     * TODO: describe\n     *\n     * @param callback {ContextControllerCallback}\n     * @returns {ContextControllerCallback}\n     */\n    function controller(callback) {\n        return callback;\n    }\n\n    /**\n     * Returns jQuery elements with `_zuixFieldAttribute` attribute matching `fieldName` .\n     *\n     * @param {!string} fieldName The class to check for.\n     * @param {!Element|!jQuery|!HTMLElement|!HTMLDocument} [container] Starting DOM element for this search.\n     * @returns {jQuery}\n     */\n    function field(fieldName, container) {\n        return z$(container).find('[' + _zuixFieldAttribute + '=\"' + fieldName + '\"]').get(0);\n    }\n\n\n    /**\n     * TODO: describe\n     *\n     * @param [element] {jQuery|HTMLElement|HTMLDocument}\n     */\n    function componentize(element) {\n        // TODO: add 'data-ui-loaded=\"true\"' attribute after loading\n        // to prevent loading twice\n        z$(element).find('[data-ui-load],[data-ui-include]').each(function () {\n            if (z$(this).attr('data-ui-loaded') === true || z$(this).parent('pre,code').length) {\n                console.log(\"ZUIX\", \"WARN\", \"Skipped\", this);\n                return;\n            }\n            z$(this).attr('data-ui-loaded', true);\n            /** @type {ContextOptions} */\n            var options;\n            if (!util.isNoU(z$(this).attr('data-ui-options'))) {\n                options = util.propertyFromPath(window, z$(this).attr('data-ui-options'));\n                // copy passed options\n                //options = jQuery.extend({}, options);\n                options = util.cloneObject(options);\n            } else\n                options = {};\n\n            // Automatic view/container selection\n            if (util.isNoU(options.view) && !z$(this).isEmpty())\n                options.view = this;\n            else if (util.isNoU(options.view) && util.isNoU(options.container) && z$(this).isEmpty())\n                options.container = this;\n\n            var componentId = z$(this).attr('data-ui-load');\n            if (util.isNoU(componentId)) {\n                // Static include should not have any controller\n                componentId = z$(this).attr('data-ui-include');\n                if (util.isNoU(options.controller))\n                    options.controller = function() {};\n            }\n\n             // TODO: Behavior are also definable in \"data-ui-behavior\" attribute\n             // TODO: Events are also definable in \"data-ui-on\" attribute\n             // util.propertyFromPath( ... )\n/*\n             if (!util.isNoU(z$(this).attr('data-ui-ready')))\n                options.ready = util.propertyFromPath(window, z$(this).attr('data-ui-ready'));\n            if (!util.isNoU(z$(this).attr('data-ui-error')))\n                options.error = util.propertyFromPath(window, z$(this).attr('data-ui-error'));\n            if (!util.isNoU(z$(this).attr('data-ui-container')))\n                options.container = field(z$(this).attr('data-ui-container'));\n            if (!util.isNoU(z$(this).attr('data-ui-model')))\n                options.model = util.propertyFromPath(window, z$(this).attr('data-ui-model'));\n            if (!util.isNoU(z$(this).attr('data-ui-view')))\n                options.view = field(z$(this).attr('data-ui-view'));\n            if (!util.isNoU(z$(this).attr('data-ui-controller')))\n                options.controller = util.propertyFromPath(window, z$(this).attr('data-ui-controller'));\n*/\n\n            load(componentId, options);\n        });\n    }\n\n    /**\n     * Loads a component with the given options.\n     *\n     * @param {!string} componentId The id/name of the component we want to load.\n     * @param {ContextOptions} [options] context options used to initialize the loaded component\n     * @returns {ComponentContext}\n     */\n    function load(componentId, options) {\n        // TODO: throw error on argument mismatch\n\n        /** @type {ComponentContext} */\n        var context = null;\n        if (!util.isNoU(options)) {\n            // check if context has its unique id assigned\n            if (!util.isNoU(options.contextId)) {\n                // if it does, try to pick it from allocated contexts list\n                context = getContext(options.contextId);\n                if (context !== null) {\n                    context.options(options);\n                } else {\n                    // if no context is already allocated\n                    // with that id, then add a new one\n                    context = new ComponentContext(options);\n                    _contextRoot.push(context);\n                }\n            } else {\n                if (options === false)\n                    options = {};\n                // generate contextId (this is a bit buggy, but it's quick)\n                options.contextId = 'zuix-ctx-' + (++_contextSeqNum);\n                context = new ComponentContext(options);\n                _contextRoot.push(context);\n            }\n        } else {\n            // empty context\n            options = {};\n            context = new ComponentContext(options);\n        }\n\n        // assign the given component (widget) to this context\n        if (context.componentId != componentId) {\n            context.componentId = componentId;\n            /*\n             TODO: to be fixed\n             if (!util.isNoU(context.view())) {\n             // TODO: implement this code in a context.detach() method\n             //context.controller().pause()\n             context.view().detach();\n             context.view(null);\n             }*/\n        }\n\n        // pick it from cache if found\n        var cachedComponent = getCachedComponent(context.componentId);\n        if (cachedComponent !== null && util.isNoU(context.controller()))\n            context.controller(cachedComponent.controller);\n\n        if (util.isFunction(options.ready))\n            context.ready = options.ready;\n        if (util.isFunction(options.error))\n            context.error = options.error;\n\n        if (util.isNoU(options.view)) {\n\n            if (cachedComponent !== null) {\n                context.view(cachedComponent.view);\n            } else {\n                // TODO: replace $() with $(options.container)\n                var inlineView = z$().find('[data-ui-view=\"' + context.componentId + '\"]');\n                if (inlineView.length >= 1)\n                    context.view(inlineView.get(0));\n            }\n\n            // if not able to inherit the view from the base cachedComponent\n            // or from an inline element, then load the view from web\n            if (util.isNoU(context.view())) {\n                taskQueue('html:' + context.componentId, function () {\n                    var promise = this;\n                    z$.ajax({\n                        url: context.componentId + \".html?\" + new Date().getTime(),\n                        //dataType: 'text',\n                        //type: 'GET',\n                        success: function (viewHtml) {\n                            context.view(viewHtml);\n                            loadController(context);\n                            promise.status = 2;\n                        },\n                        error: function (err) {\n                            promise.status = 2;\n                            console.log(err);\n                            if (util.isFunction(options.error))\n                                context.error(context, err);\n                        }\n                    });\n\n                });\n                // defer controller loading\n                return context;\n            }\n        } else {\n            context.view(options.view);\n        }\n        loadController(context);\n        return context;\n    }\n\n    /**\n     *\n     * @param context {ComponentContext}\n     */\n    function unload(context) {\n        if (!util.isNoU(context) && !util.isNoU(context._c)) {\n            if (!util.isNoU(context._c.view()))\n                context._c.view().removeAttr('data-ui-component');\n\n            //context.unregisterEvents();\n            // TODO: unregister events and local context behavior\n            // TODO: detach view from parent if context.container is not null\n\n            if (util.isFunction(context._c.destroy))\n                context._c.destroy();\n        }\n    }\n\n    /***\n     *\n     * @param {Object} contextId\n     * @returns {ComponentContext}\n     */\n    function getContext(contextId) {\n        var context = null;\n        z$.each(_contextRoot, function (k, v) {\n            if (util.objectEquals(v.contextId, contextId)) {\n                context = v;\n                return false;\n            }\n        });\n        return context;\n    }\n\n    function removeContext(contextId) {\n        // TODO: removeContext\n    }\n\n    function removeCachedComponent(componentId) {\n        // TODO: removeCachedComponent\n    }\n\n    /***\n     *\n     * @param {Object} componentId\n     * @returns {ComponentCache}\n     */\n    function getCachedComponent(componentId) {\n        var cached = null;\n        z$.each(_componentCache, function (k, v) {\n            if (util.objectEquals(v.componentId, componentId)) {\n                cached = v;\n                return false;\n            }\n        });\n        return cached;\n    }\n\n    /***\n     *\n     * @param {ComponentContext} context\n     */\n    function loadController(context) {\n        if (context.controller() === null) {\n            taskQueue('js:' + context.componentId, function () {\n                var promise = this;\n                z$.ajax({\n                    url: context.componentId + \".js?\" + new Date().getTime(),\n                    success: function (ctrlJs) {\n                        try {\n                            var il = ctrlJs.indexOf('.load');\n                            if (il > 1)\n                                ctrlJs = ctrlJs.substring(0, il - 4);\n                            var ih = ctrlJs.indexOf('.controller');\n                            if (ih > 1)\n                                ctrlJs = ctrlJs.substring(ih + 11);\n                            context.controller(getController(ctrlJs));\n                        } catch (e) {\n                            console.log(ctrlJs);\n                            console.log(e);\n                            if (util.isFunction(context.error))\n                                context.error(context, e);\n                            return;\n                        }\n                        createComponent(context);\n                        promise.status = 2;\n                    },\n                    error: function (err) {\n                        promise.status = 2;\n                        createComponent(context);\n                        console.log(err);\n                        if (util.isFunction(context.error))\n                            context.error(context, err);\n                    }\n                });\n            });\n        } else {\n            createComponent(context);\n        }\n    }\n\n    /***\n     *\n     * @param context {ComponentContext}\n     */\n    function createComponent(context) {\n        if (!util.isNoU(context.view())) {\n            var cached = getCachedComponent(context.componentId);\n            if (cached === null) {\n                _componentCache.push({\n                    componentId: context.componentId,\n                    view: '<div>'+context.view().innerHTML+'</div>',\n                    controller: context.controller()\n                });\n            }\n\n            if (!util.isNoU(context.container())) {\n                var v = context.view();\n                if (v.parentNode)\n                    v.parentNode.removeChild(v);\n                context.container().appendChild(context.view());\n            }\n\n            z$(context.view()).one('create', function () {\n                initComponent(context);\n            });\n\n            z$(context.view()).trigger('create');\n        } else {\n            // TODO: report error\n        }\n    }\n\n    /***\n     *\n     * @param {ComponentContext} context\n     */\n    function initComponent(context) {\n        if (util.isFunction(context.controller())) {\n            /** @type {ContextController} */\n            var c = context._c = new ContextController(context);\n\n            if (!util.isNoU(c.view()))\n                z$(c.view()).attr('data-ui-component', c.componentId);\n\n            if (util.isFunction(c.create)) c.create();\n            //if (util.isFunction(c.bind)) c.bind();\n            if (util.isFunction(c.resume)) c.resume();\n            if (util.isFunction(c.refresh)) c.refresh();\n        }\n        if (util.isFunction(context.ready))\n            context.ready(context);\n    }\n\n    /***\n     *\n     * @param javascriptCode string\n     * @returns {ContextControllerCallback}\n     */\n    // TODO: refactor this method name\n    function getController(javascriptCode) {\n        var instance = function (ctx) {\n        };\n        if (typeof javascriptCode === 'string')\n            instance = _eval(javascriptCode);\n        return instance;\n    }\n\n\n\n\n\n\n\n\n\n\n\n    // TODO: following code to be sorted/re-arranged\n\n\n    function triggerHook(context, path, data) {\n        // TODO: call all registered callback\n        if (util.isFunction(_hooksCallbacks[path]))\n            _hooksCallbacks[path].call(context, path, data);\n    }\n\n    var _hooksCallbacks = [];\n    function hooks(path, handler) {\n        if (util.isNoU(handler))\n            return _hooksCallbacks[path];\n        _hooksCallbacks[path] = handler;\n        return this;\n    }\n\n\n\n\n\n\n\n    // Generic utility class\n    var util = {\n\n        isNoU: function (obj) {\n            return (typeof obj === 'undefined' || obj === null);\n        },\n\n        isFunction: function (f) {\n            return typeof f === 'function';\n        },\n\n        objectEquals: function (x, y) {\n            if (x === null || x === undefined || y === null || y === undefined) {\n                return x === y;\n            }\n            // after this just checking type of one would be enough\n            if (x.constructor !== y.constructor) {\n                return false;\n            }\n            // if they are functions, they should exactly refer to same one (because of closures)\n            if (x instanceof Function) {\n                return x === y;\n            }\n            // if they are regexps, they should exactly refer to same one (it is hard to better equality check on current ES)\n            if (x instanceof RegExp) {\n                return x === y;\n            }\n            if (x === y || x.valueOf() === y.valueOf()) {\n                return true;\n            }\n            if (Array.isArray(x) && x.length !== y.length) {\n                return false;\n            }\n\n            // if they are dates, they must had equal valueOf\n            if (x instanceof Date) {\n                return false;\n            }\n\n            // if they are strictly equal, they both need to be object at least\n            if (!(x instanceof Object)) {\n                return false;\n            }\n            if (!(y instanceof Object)) {\n                return false;\n            }\n\n            // recursive object equality check\n            var p = Object.keys(x);\n            return Object.keys(y).every(function (i) {\n                    return p.indexOf(i) !== -1;\n                }) &&\n                p.every(function (i) {\n                    return util.objectEquals(x[i], y[i]);\n                });\n        },\n\n        propertyFromPath: function (o, s) {\n            if (typeof s !== 'string') return;\n            s = s.replace(/\\[(\\w+)]/g, '.$1'); // convert indexes to properties\n            s = s.replace(/^\\./, '');           // strip a leading dot\n            var a = s.split('.');\n            var ref = o;\n            for (var i = 0, n = a.length; i < n; ++i) {\n                var k = a[i];\n                if (typeof ref[k] !== 'undefined') {\n                    ref = ref[k];\n                } else {\n                    return;\n                }\n            }\n            return ref;\n        },\n\n        cloneObject: function cloneObject(obj) {\n            if (obj === null || typeof obj !== 'object') {\n                return obj;\n            }\n            // give temp the original obj's constructor\n            var temp = obj.constructor();\n            for (var key in obj)\n                temp[key] = cloneObject(obj[key]);\n            return temp;\n        }\n\n    };\n\n\n\n\n\n\n\n\n\n\n    // TODO: make of it a class\n    var _taskList = [];\n\n    function taskQueue(tid, fn) {\n        _taskList.push({tid: tid, fn: fn, status: 0});\n        setTimeout(function () {\n            taskCheck();\n        }, 1);\n    }\n\n    function taskCheck() {\n        var next = -1;\n        for (var i = 0; i < _taskList.length; i++) {\n            if (next != -2 && _taskList[i].status == 0) {\n                next = i;\n            }\n            else if (_taskList[i].status == 1) {\n                next = -2;\n                setTimeout(taskCheck, 100);\n                triggerHook(this, 'load:step', {\n                    task: _taskList[i].tid\n                });\n                return;\n            }\n            else if (_taskList[i].status == 2) {\n                triggerHook(this, 'load:next', {\n                    task: _taskList[i].tid\n                });\n                _taskList.splice(i, 1);\n                setTimeout(taskCheck, 100);\n                return;\n            }\n        }\n\n        if (next >= 0) {\n            _taskList[next].status = 1;\n            (_taskList[next].fn).call(_taskList[next]);\n            setTimeout(taskCheck, 100);\n            triggerHook(this, 'load:begin', {\n                task: _taskList[next].tid\n            });\n        } else {\n            triggerHook(this, 'load:end');\n        }\n    }\n\n\n\n\n\n\n    // TODO: implement <componentId>.css and <componentId>.model.js loading\n    // TODO: implement CSS pre-processing for <component>.css files\n    // TODO: (supporting nested rules for local component styles definitions)\n    // TODO: regexp /([.,\\w])([^/{};]+)({)/g\n\n\n\n\n\n    // ZuixQl - Very small set of jQuery like functions used by Zuix\n    // TODO: deprecate jQuery dependency add:\n    // TODO: ZuixQl.prototype.children\n    // TODO: ZuixQl.prototype.one\n\n    /**\n     *\n     * @param element {ZuixQl|Array<HTMLElement>|HTMLElement|Node|NodeList|undefined}\n     * @return {ZuixQl}\n     * @constructor\n     */\n    function ZuixQl(element) {\n        if (util.isNoU(element) || typeof element === 'string')\n            element = document.documentElement;\n        /** @protected */\n        this._selection = [];\n\n        if (element instanceof ZuixQl)\n            return element;\n        else if (element instanceof HTMLCollection || element instanceof NodeList || Array.isArray(element))\n            this._selection = element;\n        else if (element instanceof HTMLElement || element instanceof Node)\n            this._selection = [element];\n        else if (typeof element === 'string')\n            this._selection = this._selection[0].querySelectorAll(element);\n        else { //if (typeof element === 'string') {\n            console.log(typeof element);\n            throw(element);\n        }\n        return this;\n    }\n    ZuixQl.prototype.parent = function() {\n        return new ZuixQl(this._selection[0].parentNode);\n    };\n    ZuixQl.prototype.children = function(filter) {\n        // TODO: implement filtering\n        return new ZuixQl(this._selection[0].children);\n    };\n    ZuixQl.prototype.get = function(i) {\n        if (util.isNoU(i))\n            i = 0;\n        return this._selection[i];\n    };\n    ZuixQl.prototype.eq = function(i) {\n        return new ZuixQl(this._selection[i]);\n    };\n    ZuixQl.prototype.find = function(selector) {\n        return new ZuixQl(this._selection[0].querySelectorAll(selector));\n    };\n    ZuixQl.prototype.each = function(iterationCallback) {\n       z$.each(this._selection, iterationCallback);\n       return this;\n    };\n    ZuixQl.prototype.attr = function(attr, val) {\n        if (util.isNoU(val))\n            return this._selection[0].getAttribute(attr);\n        else\n            this.each(function(k,v){\n                this.setAttribute(attr, val);\n            });\n        return this;\n    };\n    ZuixQl.prototype.trigger = function(eventPath, eventData) {\n        var event;\n        if (window.CustomEvent) {\n            event = new CustomEvent(eventPath, { detail: eventData});\n        } else {\n            event = document.createEvent('CustomEvent');\n            event.initCustomEvent(eventPath, true, true, eventData);\n        }\n        this.each(function(k, v) {\n            this.dispatchEvent(event);\n        });\n        return this;\n    };\n    ZuixQl.prototype.one = function(eventPath, eventHandler) {\n        var fired = false;\n        this.on(eventPath, function (a, b) {\n            if (fired) return;\n            fired = true;\n            z$(this).off(eventPath, eventHandler);\n            eventHandler.call(this, a, b);\n        });\n        return this;\n    };\n    ZuixQl.prototype.on = function(eventPath, eventHandler) {\n        var events = eventPath.match(/\\S+/g) || [];\n        this.each(function(k, v) {\n            var _t = this;\n            z$.each(events, function(k, v) {\n                _t.addEventListener(v, eventHandler, false);\n            });\n        });\n        return this;\n    };\n    ZuixQl.prototype.off = function(eventPath, eventHandler) {\n        var events = eventPath.match(/\\S+/g) || [];\n        this.each(function(k, v) {\n            var _t = this;\n            z$.each(events, function(k, v) {\n                _t.removeEventListener(v, eventHandler);\n            });\n        });\n        return this;\n    };\n    ZuixQl.prototype.isEmpty = function() {\n      return (this._selection[0].innerHTML.replace(/\\s/g, '').length === 0);\n    };\n    // TODO: the following methods could be deprecated\n    ZuixQl.prototype.css = function(attr, val) {\n        if (util.isNoU(val))\n            return this._selection[0].style[attr];\n        else\n            this.each(function(k,v) {\n                this.style[attr] = val;\n            });\n        return this;\n    };\n    ZuixQl.prototype.addClass = function(className) {\n        var classes = className.match(/\\S+/g) || [];\n        z$.each(this._selection, function(k, v){\n            if (this.classList) {\n                var _t = this;\n                z$.each(classes, function(k, v) {\n                    _t.classList.add(v);\n                });\n            } else this.className += ' ' + className;\n        });\n        return this;\n    };\n    ZuixQl.prototype.hasClass = function(className) {\n        var classes = className.match(/\\S+/g) || [];\n        var success = false;\n        var cls = this._selection[0];\n        z$.each(classes, function(k, v) {\n            if (cls)\n                success = cls.classList.contains(v);\n            else\n                success = (new RegExp('(^| )' + v + '( |$)', 'gi').test(cls.className));\n            if (success) return false;\n        });\n        return success;\n    };\n    ZuixQl.prototype.removeClass = function(className) {\n        var classes = className.match(/\\S+/g) || [];\n        z$.each(this._selection, function(k, v){\n            if (this.classList) {\n                var _t = this;\n                z$.each(classes, function(k, v) {\n                    _t.classList.remove(v);\n                });\n            } else this.className = this.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n        });\n        return this;\n    };\n    ZuixQl.prototype.prev = function() {\n        return new ZuixQl(this._selection[0].previousElementSibling);\n    };\n    ZuixQl.prototype.next= function() {\n        return new ZuixQl(this._selection[0].nextElementSibling);\n    };\n    ZuixQl.prototype.html = function(htmlText) {\n        if (util.isNoU(htmlText))\n            return this._selection[0].innerHTML;\n        else\n            this.each(function(k,v){\n                this.innerHTML = htmlText;\n            });\n        return this;\n    };\n    ZuixQl.prototype.show = function() {\n        z$.each(this._selection, function(k, v){\n            this.style.display = '';\n        });\n        return this;\n    };\n    ZuixQl.prototype.hide = function() {\n        z$.each(this._selection, function(k, v){\n            this.style.display = 'none';\n        });\n        return this;\n    };\n\n\n\n\n    var z$ = function(what) { return new ZuixQl(what); };\n    z$.ZuixQl = ZuixQl;\n    z$.find = function (filter) {\n      return z$().find(filter);\n    };\n    z$.each = function(items, iterationCallback) {\n        for (var i = 0, len = items.length; i < len; i++)\n            if (iterationCallback.call(items[i], i, items[i]) === false)\n                break;\n        return this;\n    };\n    z$.ajax = function ajax(opt) {\n        if (!util.isNoU(opt) && !util.isNoU(opt.url))\n            url = opt.url;\n        else\n            url = opt;\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                if (util.isFunction(opt.success)) opt.success(xhr.responseText);\n            }\n            else {\n                if (util.isFunction(opt.error)) opt.error(xhr);\n            }\n        };\n        xhr.send();\n        return this;\n    };\n    z$.wrapElement = function (containerTag, element) {\n        //$(element).wrap($('<'+containerTag+'/>'));\n        //return element;\n        var container = document.createElement(containerTag);\n        if (typeof element === 'string')\n            container.innerHTML = element;\n        else\n            container.append(element);\n        return container;\n    };\n\n\n\n\n\n\n    // Public Interface\n\n    this.zuix = this.zuix || {\n\n        /* component loading */\n        controller: controller,\n        load: load,\n        unload: unload,\n        componentize: componentize,\n        /* Zuix hooks */\n        hook: function(p,v) {\n            hooks(p, v);\n            return this;\n        },\n\n        /* utility methods */\n\n        $: z$,\n        field: field,\n\n        /* dev utility methods */\n        dumpCache: function () {\n            console.log(\"ZUIX\", \"Component Cache\", _componentCache);\n        },\n        dumpContexts: function () {\n            console.log(\"ZUIX\", \"Loaded Component Instances\", _contextRoot);\n        }\n\n        // TODO: add zuix.options to configure stuff like\n        // TODO: the css/html/js lookup base path (each individually own prop)\n\n    };\n\n    return zuix;\n})();"]}