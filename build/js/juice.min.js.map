{"version":3,"file":"juice.min.js","lineCount":32,"mappings":"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","sources":[" [synthetic:base] "," [synthetic:util/findinternal] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:util/polyfill] "," [synthetic:es6/array/find] "," [synthetic:es6/symbol] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:es6/array/keys] ","src/js/juice.js"],"names":["scope","ComponentContext","options","cid","util","isNoU","componentId","error","ready","_container","container","_model","model","_view","view","_controller","controller","_c","ContextController","_fieldCache","fire","event","refresh","destroy","pause","resume","create","handler","callback","field","fieldName","$","find","load","context","_contextSeqNum","_contextRoot","push","cachedContext","getContext","detach","cachedComponent","getCachedComponent","inlineView","document","length","eq","ajax","url","getTime","Date","dataType","type","success","viewHtml","loadController","data","console","log","each","k","v","objectEquals","cached","_componentCache","auto","ctrlJs","il","indexOf","substring","ih","getController","e","isFunction","createComponent","append","clone","html","wrapperDiv","hide","one","componentHandler","upgradeElements","show","trigger","javascriptCode","instance","ctx","_eval","prototype","ComponentContext.prototype.model","ComponentContext.prototype.view","ComponentContext.prototype.controller","ComponentContext.prototype.container","ContextController.prototype.field","globalSearch","f","el","clearCache","ContextController.prototype.clearCache","eval","obj","x","y","undefined","constructor","Function","RegExp","valueOf","Array","isArray","Object","p","keys","every","i","juice","fn","extend","animateCss","animationName","addClass","animationEnd","removeClass"],"sourcesContent":[null,null,null,null,null,null,null,null,null,"/**\n * @license\n * Copyright 2015-2016 G-Labs. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Javascript UI components enhancer. A tiny MVC framework.\n * Find more details about jUIce here:\n *   https://github.com/genielabs/js-juice-mvc\n *\n * @author Generoso Martello.\n */\n\n(function (scope) {\n    \"use strict\";\n\n    /**\n     * Describes the type of component cache object.\n     *\n     * @typedef {{\n     *      componentId: string The id of the cached component,\n     *      view: ContextView The view,\n     *      controller: ContextControllerCallback The function of the controller handler.\n     * }} ComponentCache\n     */\n\n    /**\n     * @protected\n     * @type {!Array<ComponentCache>}\n     */\n    var _componentCache = [];\n\n    /**\n     * Describes the types of objects used in a ComponentContext.\n     *\n     * @callback ContextReadyCallback\n     * @param {ComponentContext} context\n     *\n     * @callback ContextErrorCallback\n     * @param {ComponentContext} context\n     * @param {Object} error\n     *\n     * @typedef {{\n     *    data: Object,\n     *    locales: Object\n     * }} ContextModel\n     *\n     * @typedef {jQuery|HTMLElement|string} ContextView\n     *\n     * @typedef {jQuery|HTMLElement|string} ViewContainer\n     *\n     * @typedef {{\n     *    cid: Object,\n     *    container: jQuery,\n     *    componentId: string,\n     *    model: ContextModel,\n     *    view: ContextView,\n     *    controller: ContextControllerCallback,\n     *    auto: Object,\n     *    ready: ContextReadyCallback,\n     *    error: ContextErrorCallback\n     * }} ContextOptions\n     */\n\n    /**\n     * @protected\n     * @type {!Array<ComponentContext>}\n     */\n    var _contextRoot = [];\n\n    /***\n     * TODO: describe this class...\n     *\n     * @param {ContextOptions} options\n     * @return {ComponentContext}\n     * @constructor\n     */\n    function ComponentContext(options) {\n\n        this.options = options;\n        this.cid = util.isNoU(options) || util.isNoU(options.cid) ? null : options.cid;\n        this.componentId = util.isNoU(options) || util.isNoU(options.componentId) ? null : options.componentId;\n        /** @type {function} */\n        this.ready = null;\n        /** @type {function} */\n        this.error = null;\n\n        /** @protected */\n        this._container = util.isNoU(options) || util.isNoU(options.container) ? null : options.container;\n        /** @protected */\n        this._model = util.isNoU(options) || util.isNoU(options.model) ? null : options.model;\n        /** @protected */\n        this._view = util.isNoU(options) || util.isNoU(options.view) ? null : options.view;\n        /**\n         * @protected\n         * @type {ContextController}\n         */\n        this._controller = util.isNoU(options) || util.isNoU(options.controller) ? null : options.controller;\n        /** @protected */\n        this._c = null;\n\n        return this;\n\n    }\n\n    /***\n     *\n     * @param {ContextModel} [model]\n     * @return {ComponentContext|Object}\n     */\n    ComponentContext.prototype.model = function (model) {\n        if (util.isNoU(model)) return this._model;\n        else this._model = model;\n        return this;\n    };\n    /***\n     *\n     * @param {ContextView} [view]\n     * @return {ComponentContext|ContextView}\n     */\n    ComponentContext.prototype.view = function (view) {\n        if (typeof view === 'undefined') return this._view;\n        else this._view = view !== null ? $(view) : null;\n        return this;\n    };\n    /***\n     *\n     * @param {ContextControllerCallback} [controller]\n     * @return {ComponentContext|ContextControllerCallback}\n     */\n    ComponentContext.prototype.controller = function (controller) {\n        if (util.isNoU(controller)) return this._controller;\n        else this._controller = controller;\n        return this;\n    };\n    /***\n     *\n     * @param {ViewContainer} [container]\n     * @return {ComponentContext|jQuery}\n     */\n    ComponentContext.prototype.container = function (container) {\n        if (util.isNoU(container)) return this._container;\n        else this._container = $(container);\n        return this;\n    };\n\n    /**\n     * TODO: complete JSDoc\n     *\n     * @return {ContextController}\n     * @constructor\n     */\n    function ContextController() {\n        /** @protected */\n        this._fieldCache = [];\n        /** @type {ContextView} */\n        this.view = {};\n        /** @type {ContextModel} */\n        this.model = {};\n        /** @type {function} */\n        this.create = null;\n        /** @type {function} */\n        this.resume = null;\n        /** @type {function} */\n        this.pause = null;\n        /** @type {function} */\n        this.destroy = null;\n        /** @type {function} */\n        this.refresh = null;\n        /** @type {function} */\n        this.event = null;\n        /** @type {function} */\n        this.fire = null;\n        return this;\n    }\n\n    /***\n     * Search and cache this view elements.\n     *\n     * @param {!string} field Name of the `data-ui-field` to search\n     * @param {boolean} [globalSearch] Search a generic field attribute\n     * @returns {Element|jQuery}\n     */\n    ContextController.prototype.field = function (field, globalSearch) {\n        var f = globalSearch ? '@' + field : field;\n        var el = null;\n        if (typeof this._fieldCache[f] === 'undefined') {\n            el = globalSearch ? $(field) : this.view.find('[data-ui-field=' + field + ']');\n            if (el.length)\n                this._fieldCache[f] = el;\n        } else {\n            el = this._fieldCache[f];\n        }\n        return el;\n    };\n    ContextController.prototype.clearCache = function () {\n        this._fieldCache.length = 0;\n    };\n\n\n\n    // TODO: implement Config object for juice\n    /** @protected */\n    var _juiceFieldAttribute = 'data-ui-field';\n    // work-around for lint eval error\n    /** @protected */\n    var _eval = eval;\n    //\n    /** @protected */\n    var _contextSeqNum = 0;\n\n\n\n    /**\n     * TODO: describe\n     *\n     * @callback ContextControllerCallback\n     * @param {ContextController} ctx\n     */\n    /**\n     * TODO: describe\n     *\n     * @param callback {ContextControllerCallback}\n     * @returns {ContextControllerCallback}\n     */\n    function handler(callback) {\n        return callback;\n    }\n\n    /**\n     * Returns jQuery elements with `_juiceFieldAttribute` attribute matching `fieldName` .\n     *\n     * @param {!Element|!jQuery} container Starting DOM element for this search.\n     * @param {!string} fieldName The class to check for.\n     * @returns {jQuery}\n     */\n    function field(container, fieldName) {\n        return $(container).find('[' + _juiceFieldAttribute + '=\"' + fieldName + '\"]');\n    }\n\n    /**\n     * Load a component context with the given context options.\n     * // TODO: describe how component MVC is loaded inline or from url\n     *\n     * @param {!string} componentId The id/name of the component we want to load.\n     * @param {ContextOptions} [options] context options used to initialize the component context\n     * @returns {ComponentContext}\n     */\n    function load(componentId, options) {\n\n        // TODO: throw error on argument mismatch\n\n        /** @type {ComponentContext} */\n        var context = null;\n        if (!util.isNoU(options)) {\n            // check if context has its unique id assigned\n            if (!util.isNoU(options.cid)) {\n                var cachedContext = getContext(options.cid);\n                if (cachedContext !== null) {\n                    if (!util.isNoU(options.view))\n                        cachedContext.view(options.view);\n                    if (!util.isNoU(options.model))\n                        cachedContext.model(options.model);\n                    if (!util.isNoU(options.controller))\n                        cachedContext.controller(options.controller);\n                    context = cachedContext;\n                } else {\n                    context = new ComponentContext(options);\n                    _contextRoot.push(context);\n                }\n            } else {\n                if (options === false) {\n                    options = {};\n                    options.auto = false;\n                }\n                // generate cid (this is a bit buggy, but it's quick)\n                options.cid = 'juice-ctx-' + (++_contextSeqNum);\n                context = new ComponentContext(options);\n                _contextRoot.push(context);\n            }\n        } else {\n            // empty context\n            options = {};\n            context = new ComponentContext(options);\n        }\n\n        // assign the given component (widget) to this context\n        if (context.componentId != componentId) {\n            context.componentId = componentId;\n            if (!util.isNoU(context.view())) {\n                // TODO: implement this code in a context.detach() method\n                //context.controller().pause()\n                context.view().detach();\n                context.view(null);\n            }\n        }\n\n        // pick it from cache if found\n        var cachedComponent = getCachedComponent(context.componentId);\n        if (cachedComponent !== null && util.isNoU(context.controller()))\n            context.controller(cachedComponent.controller);\n\n        if (typeof options.ready === 'function')\n            context.ready = options.ready;\n        if (typeof options.error === 'function')\n            context.error = options.error;\n\n        if (util.isNoU(options.view)) {\n\n            if (cachedComponent !== null) {\n                context.view(cachedComponent.view);\n            } else {\n                // TODO: replace $(document) with $(options.container)\n                var inlineView = $(document).find('[data-juice-view=\"' + context.componentId + '\"]');\n                if (inlineView.length >= 1)\n                    context.view(inlineView.eq(0));\n            }\n\n            // if not able to inherit the view from the base cachedComponent\n            // or from an inline element, then load the view from web\n            if (util.isNoU(context.view())) {\n                $.ajax({\n                    url: context.componentId + \".html?\" + new Date().getTime(),\n                    dataType: 'text',\n                    type: 'GET',\n                    success: function (viewHtml) {\n                        context.view(viewHtml);\n                        loadController(context);\n                    },\n                    error: function (data) {\n                        console.log(data);\n                        if (typeof options.error === 'function')\n                            context.error(options, data);\n                    }\n                });\n                // defer handler loading\n                return context;\n            }\n        }\n        loadController(context);\n        return context;\n    }\n\n    /***\n     *\n     * @param {Object} cid\n     * @return {ComponentContext}\n     */\n    function getContext(cid) {\n        var context = null;\n        $.each(_contextRoot, function (k, v) {\n            if (util.objectEquals(v.cid, cid)) {\n                context = v;\n                return false;\n            }\n        });\n        return context;\n    }\n\n    /***\n     *\n     * @param {Object} cid\n     * @return {ComponentCache}\n     */\n    function getCachedComponent(cid) {\n        var cached = null;\n        $.each(_componentCache, function (k, v) {\n            if (util.objectEquals(v.componentId, cid)) {\n                cached = v;\n                return false;\n            }\n        });\n        return cached;\n    }\n\n    /***\n     *\n     * @param {ComponentContext} context\n     */\n    function loadController(context) {\n        if (context.controller() === null && context.options.auto !== false) {\n            $.ajax({\n                url: context.componentId + \".js?\" + new Date().getTime(),\n                dataType: 'text',\n                type: 'GET',\n                success: function (ctrlJs) {\n                    try {\n                        var il = ctrlJs.indexOf('juice.load');\n                        if (il > 1)\n                            ctrlJs = ctrlJs.substring(0, il-1);\n                        var ih = ctrlJs.indexOf('juice.handler');\n                        if (ih > 1)\n                            ctrlJs = ctrlJs.substring(ih+13);\n                        context.controller(getController(ctrlJs));\n                    } catch (e) {\n                        console.log(e);\n                        if (util.isFunction(context.error))\n                            context.error(context, e);\n                        return;\n                    }\n                    createComponent(context);\n                },\n                error: function (data) {\n                    console.log(data);\n                    if (util.isFunction(context.error))\n                        context.error(context, data);\n                }\n            });\n        } else {\n            createComponent(context);\n        }\n    }\n\n    /***\n     *\n     * @param context {ComponentContext}\n     */\n    function createComponent(context) {\n        var cached = getCachedComponent(context.componentId);\n        if (cached === null)\n            _componentCache.push({\n                componentId: context.componentId,\n                view: $('<div>').append(context.view().clone()).html(),\n                controller: context.controller()\n            });\n\n        if (!util.isNoU(context.container())) {\n            var wrapperDiv = $('<div class=\"juice-ui-wrapper\"/>');\n            wrapperDiv.hide();\n            context.view().detach();\n            wrapperDiv.append(context.view());\n            context.container().append(wrapperDiv);\n            context.view(wrapperDiv);\n        }\n\n        context.view().one('create', function () {\n            // Material Design Light  DOM upgrade\n            if (componentHandler)\n                componentHandler.upgradeElements(context.view()[0]);\n            context.view().show();\n            initComponent(context);\n        });\n\n        context.view().trigger('create');\n    }\n\n    /***\n     *\n     * @param {ComponentContext} context\n     */\n    function initComponent(context) {\n        if (util.isFunction(context.controller())) {\n            context._c = new ContextController();\n            context._c.view = context.view();\n            context._c.model = context.model();\n            context.controller()(context._c);\n            if (!util.isNoU(context._c)) {\n                if (util.isFunction(context._c.create)) context._c.create();\n                //if (util.isFunction(context._c.bind)) context._c.bind();\n                if (util.isFunction(context._c.resume)) context._c.resume();\n                if (util.isFunction(context._c.refresh)) context._c.refresh();\n            }\n        }\n        if (typeof context.ready === 'function')\n            context.ready(context);\n    }\n\n    /***\n     *\n     * @param javascriptCode string\n     * @returns {ContextControllerCallback}\n     */\n    // TODO: refactor this method name\n    function getController(javascriptCode) {\n        var instance = function (ctx){};\n        if (typeof javascriptCode === 'string')\n            instance = _eval(javascriptCode);\n        return instance;\n    }\n\n    // Generic utility methods class\n    var util = {\n\n        isNoU: function (obj) {\n            return (typeof obj === 'undefined' || obj === null);\n        },\n\n        isFunction: function (f) {\n            return typeof f === 'function';\n        },\n\n        objectEquals: function (x, y) {\n            if (x === null || x === undefined || y === null || y === undefined) {\n                return x === y;\n            }\n            // after this just checking type of one would be enough\n            if (x.constructor !== y.constructor) {\n                return false;\n            }\n            // if they are functions, they should exactly refer to same one (because of closures)\n            if (x instanceof Function) {\n                return x === y;\n            }\n            // if they are regexps, they should exactly refer to same one (it is hard to better equality check on current ES)\n            if (x instanceof RegExp) {\n                return x === y;\n            }\n            if (x === y || x.valueOf() === y.valueOf()) {\n                return true;\n            }\n            if (Array.isArray(x) && x.length !== y.length) {\n                return false;\n            }\n\n            // if they are dates, they must had equal valueOf\n            if (x instanceof Date) {\n                return false;\n            }\n\n            // if they are strictly equal, they both need to be object at least\n            if (!(x instanceof Object)) {\n                return false;\n            }\n            if (!(y instanceof Object)) {\n                return false;\n            }\n\n            // recursive object equality check\n            var p = Object.keys(x);\n            return Object.keys(y).every(function (i) {\n                    return p.indexOf(i) !== -1;\n                }) &&\n                p.every(function (i) {\n                    return util.objectEquals(x[i], y[i]);\n                });\n        }\n\n    };\n\n    // Public API\n\n    scope.juice = scope.juice || {\n            handler: handler,\n            field: field,\n            load: load\n        };\n\n    return scope;\n}(this));\n// jQuery helpers\n$.fn.extend({\n    animateCss: function (animationName) {\n        var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n        this.addClass('animated ' + animationName).one(animationEnd, function() {\n            $(this).removeClass('animated ' + animationName);\n        });\n    }\n});"]}